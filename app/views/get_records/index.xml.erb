<csw:GetRecordsResponse xmlns:csw="http://www.opengis.net/cat/csw/2.0.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/cat/csw/2.0.2 http://schemas.opengis.net/csw/2.0.2/CSW-discovery.xsd">
    <csw:SearchStatus timestamp="<%= @model.server_timestamp %>" />
    <csw:SearchResults numberOfRecordsMatched="<%= @model.number_of_records_matched %>" numberOfRecordsReturned="<%= @model.number_of_records_returned %>"
                       elementSet="<%= @model.response_element %>" nextRecord="<%= @model.next_record %>" recordSchema="<%= @model.output_schema %>">
      <% @model.collections.each do |collection| %>
        <% if @model.output_schema == 'http://www.isotc211.org/2005/gmi' && @model.response_element == 'full' %>
          <%= raw(collection) %>
        <% end %>
      <% end %>
    </csw:SearchResults>
</csw:GetRecordsResponse>