<p>
  <a target="_blank" href="http://www.opengeospatial.org/standards/cat">Catalog Service for the Web (CSW)</a> is an OGC
  standard for exposing a catalogue of geospatial records in XML on the Internet (over HTTP).
</p>
<p>
  This implementation provides a CSW API over NASA EOSDIS'
  <a target="_blank" href="https:cmr.earthdata.nasa.gov">Common Metadata Repository (CMR)</a> earth data discovery API.
</p>
<h1>Supported requests</h1>
<p>CMR CSW supports HTTP protocol binding as per section 10.2 of the
  <a target="_blank" href="http://www.opengeospatial.org/standards/cat">OpenGISÂ® Catalogue Services Specification
    version 2.0.2</a></p>
<section class="get-capabilities">
  <h2>GetCapabilities</h2>

  <p>
    Allows CSW clients to retrieve service metadata. The response to a GetCapabilities request is
    an XML document containing service metadata about this server.
  </p>
  <h3>Supported methods</h3>
  <ul class="methods">
    <% GetCapability::HTTP_METHODS.each do |method| %>
        <li><%= method.upcase %></li>
    <% end %>
  </ul>
  <h3>Supported output formats</h3>
  <ul class="output-formats">
    <% GetCapability::OUTPUT_FILE_FORMATS.each do |format| %>
        <li><%= format %></li>
    <% end %>
  </ul>
  <h3>Examples</h3>
  <ul>
    <li>
      <a target="_blank" href="<%= root_url.chomp '/' %>?request=GetCapabilities&service=CSW&version=2.0.2">GET <%= root_url.chomp '/' %>
        ?request=GetCapabilities&service=CSW&version=2.0.2</a></li>
    <li>POST <%= root_url.chomp '/' %> with body:
          <pre>
            <code>
              &lt;csw:GetCapabilities
                xmlns:csw=&quot;http://www.opengis.net/cat/csw/2.0.2&quot;
                xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;
                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
                xsi:schemaLocation=&quot;http://www.opengis.net/cat/csw/2.0.2 CSW-discovery.xsd&quot;
                service=&quot;CSW&quot;
                version=&quot;2.0.2&quot;&gt;
              &lt;/csw:GetCapabilities&gt;
            </code>
          </pre>
    </li>
  </ul>
</section>
<section class="get-records">
  <h2>GetRecords</h2>

  <p>
    The primary means of resource discovery in the general model are the two operations search and present. In the
    HTTP protocol binding these are combined in the form of the mandatory GetRecords operation, which does a search
    and a piggybacked present.
  </p>

  <p>
    The search portion of the GetRecords operation is encoded using the Query element. The Query element includes the
    parameters typeName and Constraint. The typeName parameter is used to specify which entities, from the information
    model of the catalogue, shall be queried. The Constraint parameter is used to specify which query constraints
    shall be applied to identify the request set.
  </p>
  The present portion of the GetRecords operation is encoded using the outputSchema parameter and the
  ElementName/ElementSetName parameter(s). The outputSchema parameter indicates which schema shall be used to
  generate the response to the GetRecords operation. The ElementName or ElementSetName parameter is used to specify
  which properties of the outputSchema to include in each record in the GetRecords response.
  </p>
  <h3>Supported methods</h3>
  <ul class="methods">
    <% GetRecords::HTTP_METHODS.each do |method| %>
        <li><%= method.upcase %></li>
    <% end %>
  </ul>
  <h3>Supported element set names</h3>
  <ul class="response-elements">
    <% GetRecords::RESPONSE_ELEMENTS.each do |element| %>
        <li><%= element %></li>
    <% end %>
  </ul>
  <h3>Supported result types</h3>
  <ul class="result-types">
    <% GetRecords::RESULT_TYPES.each do |type| %>
        <li><%= type %></li>
    <% end %>
  </ul>
  <h3>Supported output schemas</h3>
  <ul class="output-schemas">
    <% GetRecords::OUTPUT_SCHEMAS.each do |schema| %>
        <li><a target="_blank" href="<%= schema.html_safe %>"><%= to_schema_label(schema) %></a></li>
    <% end %>
  </ul>
  <h3>Supported output formats</h3>
  <ul class="output-formats">
    <% GetRecords::OUTPUT_FILE_FORMATS.each do |format| %>
        <li><%= format %></li>
    <% end %>
  </ul>
  <h3>Examples</h3>
  <ul>
    <li>POST <%= root_url.chomp '/' %> with body:
        <pre>
          <code>
            &lt;csw:GetRecords maxRecords=&quot;18&quot; outputFormat=&quot;application/xml&quot;
                outputSchema=&quot;http://www.isotc211.org/2005/gmd&quot; resultType=&quot;results&quot; service=&quot;CSW&quot;
                startPosition=&quot;1&quot; version=&quot;2.0.2&quot;
                xmlns:csw=&quot;http://www.opengis.net/cat/csw/2.0.2&quot;
                xmlns:ogc=&quot;http://www.opengis.net/ogc&quot;
            &lt;/csw:GetRecords&gt;
          </code>
        </pre>
    </li>
  </ul>
</section>
<section class="get-record-by-id">
  <h2>GetRecordById</h2>

  <p>
    This request retrieves the default representation of catalogue records using their
    identifier. This operation is an implementation of the Present operation from the general model. This
    operation presumes that a previous query has been performed in order to obtain the identifiers that may be used
    with this operation. For example, records returned by a GetRecords operation may contain references to other
    records in the catalogue that may be retrieved using the GetRecordById operation. This operation is also a subset
    of the GetRecords operation, and is included as a convenient short form for retrieving and linking to records in a
    catalogue.
  </p>
  <h3>Supported methods</h3>
  <ul class="methods">
    <% GetRecordById::HTTP_METHODS.each do |method| %>
        <li><%= method.upcase %></li>
    <% end %>
  </ul>
  <h3>Supported element set names</h3>
  <ul class="response-elements">
    <% GetRecordById::RESPONSE_ELEMENTS.each do |element| %>
        <li><%= element %></li>
    <% end %>
  </ul>
  <h3>Supported output schemas</h3>
  <ul class="output-schemas">
    <% GetRecordById::OUTPUT_SCHEMAS.each do |schema| %>
        <li><a target="_blank" href="<%= schema.html_safe %>"><%= to_schema_label(schema) %></a></li>
    <% end %>
  </ul>
  <h3>Supported output formats</h3>
  <ul class="output-formats">
    <% GetRecordById::OUTPUT_FILE_FORMATS.each do |format| %>
        <li><%= format %></li>
    <% end %>
  </ul>
  <h3>Examples</h3>
  <ul>
    <li>
      <a target="_blank" href="<%= root_url.chomp '/' %>?request=GetRecordById&service=CSW&version=2.0.2&outputSchema=http://www.isotc211.org/2005/gmi&ElementSetName=full&id=C1224520098-NOAA_NCEI">GET <%= root_url.chomp '/' %>
        ?request=GetRecordById&service=CSW&version=2.0.2&outputSchema=http://www.isotc211.org/2005/gmi&ElementSetName=full&id=C1224520098-NOAA_NCEI</a>
    </li>
    <li>POST <%= root_url.chomp '/' %> with body:
        <pre>
          <code>
            &lt;csw:GetRecordById
                service=&quot;CSW&quot;
                version=&quot;2.0.2&quot;
                outputSchema=&quot;http://www.isotc211.org/2005/gmi&quot;
                xmlns:csw=&quot;http://www.opengis.net/cat/csw/2.0.2&quot;
                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
                &lt;csw:Id&gt;C1224520098-NOAA_NCEI&lt;/csw:Id&gt;
                &lt;ElementSetName typeNames=&quot;csw:Record&quot;&gt;full&lt;/ElementSetName&gt;
            &lt;/csw:GetRecordById&gt;
          </code>
        </pre>
    </li>
  </ul>
</section>
